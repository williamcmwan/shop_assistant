GEMINI PROMPT BACKUP - Original Version
========================================

Analyze this ${imageDimensions} image and extract product information as JSON.

IMAGE DIMENSIONS: ${imageDimensions} - use these exact dimensions for cropArea coordinates!

CRITICAL: You MUST identify the product, even without text!

productName:
- If text visible: Extract clean name (no store names/barcodes), include weight (e.g. "650GM")
- If NO readable text: Identify product by what you SEE

price:
- UNIT price (single item cost), NOT the discount price
- If "2 for €3" shown with "€1.79": use €1.79 (unit price)
- Prefer "NOW"/"ONLY" prices, convert "40c" to 0.40
- If no price: set to 0

isPerKg:
- true ONLY if "PER KG" text WITHOUT specific weight/total price
- false if weight (e.g. "650GM") AND total price shown

discount (CRITICAL - look EVERYWHERE for multi-buy offers):
- Check YELLOW/COLORED shelf labels below products
- Check large text on product packaging
- Look for patterns: "2 for €X", "3 for 2", "X for €Y"
- Examples:
  * "2 for €4.50" → {"type":"bulk_price","quantity":2,"value":4.5,"display":"(2 for €4.50)"}
  * "3 for 2" → {"type":"buy_x_get_y","quantity":3,"value":2,"display":"(3 for 2)"}
  * "2 for €3" → {"type":"bulk_price","quantity":2,"value":3.0,"display":"(2 for €3.00)"}
- IMPORTANT: Extract BOTH unit price AND discount separately
  * Example: "€2.50" with "2 for €4.50" → price:2.50, discount:{"type":"bulk_price","quantity":2,"value":4.5}

confidence: 0.8-1.0 (text), 0.4-0.6 (visual only)

cropArea (CRITICAL - locate ONE product for thumbnail):
- Pick ONE SINGLE most prominent product item (not whole shelf)
- IGNORE price labels - focus on the product itself
- Return the CENTER POINT and SIZE as PERCENTAGES (0-100)
- centerX: horizontal center of the product (% from left, 0-100)
- centerY: vertical center of the product (% from top, 0-100)
- size: crop size as % of image (20-50, typically 35-40 for one item)
- Examples:
  * One yogurt at top-center: {"centerX":50,"centerY":20,"size":40}
  * One tomato at middle-right: {"centerX":65,"centerY":50,"size":35}
  * One package at center: {"centerX":50,"centerY":50,"size":40}

confidence: 0.8-1.0 (text), 0.4-0.6 (visual only)

Return JSON only.
Example: {"productName":"Baby Carrot Bag 200gm","price":1.79,"confidence":0.9,"discount":{"type":"bulk_price","quantity":2,"value":3.0,"display":"(2 for €3.00)"},"cropArea":{"centerX":50,"centerY":30,"size":40}}
